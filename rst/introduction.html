

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>3. Introduction &mdash; eYRC VB#0574 Task 5 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4. Implementation" href="implementation.html" />
    <link rel="prev" title="2.4. Paho MQTT Library" href="installations/pahomqtt.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> eYRC VB#0574 Task 5
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="software_specs.html">1. Software Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="installations.html">2. Insatllations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installations/rosmelodic.html">2.1. ROS Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="installations/rosmelodic.html#installation-instruction">2.1.1. Installation Instruction</a></li>
<li class="toctree-l3"><a class="reference internal" href="installations/rosmelodic.html#ros-melodic-installation">2.1.2. ROS Melodic Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="installations/rosmelodic.html#installation-steps">2.1.3. Installation Steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="installations/rosmelodic.html#configuration-steps">2.1.4. Configuration Steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="installations/rosmelodic.html#additional-packages-to-install">2.1.5. Additional packages to install</a></li>
<li class="toctree-l3"><a class="reference internal" href="installations/rosmelodic.html#references">2.1.6. References</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="installations/moveit.html">2.2. MoveIt! for ROS Melodic</a></li>
<li class="toctree-l2"><a class="reference internal" href="installations/vbsimpkg.html">2.3. Vargi Bots Simulation Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="installations/pahomqtt.html">2.4. Paho MQTT Library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="installations/pahomqtt.html#installation-instruction">2.4.1. Installation Instruction</a></li>
<li class="toctree-l3"><a class="reference internal" href="installations/pahomqtt.html#example-mqtt-pub-sub">2.4.2. Example MQTT Pub-Sub</a><ul>
<li class="toctree-l4"><a class="reference internal" href="installations/pahomqtt.html#sub-py">2.4.2.1. sub.py</a></li>
<li class="toctree-l4"><a class="reference internal" href="installations/pahomqtt.html#pub-py">2.4.2.2. pub.py</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="installations/pahomqtt.html#references">2.4.3. References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">3.1. Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#strategies-used-to-save-time">3.1.1. Strategies used to save time</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#video-demonstration">3.2. Video Demonstration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="implementation.html">4. Implementation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="implementation.html#setting-up-gazebo-and-planning-scene">4.1. Setting up Gazebo and Planning Scene</a></li>
<li class="toctree-l2"><a class="reference internal" href="implementation.html#saving-trajectories">4.2. Saving Trajectories</a><ul>
<li class="toctree-l3"><a class="reference internal" href="implementation.html#determining-execution-time">4.2.1. Determining Execution Time</a></li>
<li class="toctree-l3"><a class="reference internal" href="implementation.html#automate-trajectory-saving">4.2.2. Automate Trajectory Saving</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="implementation.html#qr-detection">4.3. QR Detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="implementation.html#ros-iot-bridge-setup">4.4. Ros-IoT Bridge Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="implementation.html#order-handling">4.5. Order Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="implementation.html#picking-up-packages-from-shelf">4.6. Picking Up Packages From Shelf</a></li>
<li class="toctree-l2"><a class="reference internal" href="implementation.html#placing-packages-in-the-bin">4.7. Placing Packages in the Bin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="implementation.html#when-ur5-2-arm-is-free">4.7.1. When UR5#2 arm is free</a></li>
<li class="toctree-l3"><a class="reference internal" href="implementation.html#when-ur5-2-arm-is-busy">4.7.2. When UR5#2 arm is busy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="implementation.html#dashboard">4.8. Dashboard</a><ul>
<li class="toctree-l3"><a class="reference internal" href="implementation.html#map">4.8.1. Map</a></li>
<li class="toctree-l3"><a class="reference internal" href="implementation.html#table">4.8.2. Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="implementation.html#bar-graph">4.8.3. Bar Graph</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="implementation.html#rqt-graph">4.9. RQT Graph</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api_documentation.html">5. API Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api_documentation.html#package-task-5">5.1. Package Task 5</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pkg_task5/python_scripts.html">5.1.1. Python Scripts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pkg_task5/scripts/node_ur5_1_pick.html">5.1.1.1. node_ur5_1_pick</a></li>
<li class="toctree-l4"><a class="reference internal" href="pkg_task5/scripts/node_ur5_2_place.html">5.1.1.2. node_ur5_2_place</a></li>
<li class="toctree-l4"><a class="reference internal" href="pkg_task5/scripts/incoming_order_handler.html">5.1.1.3. incoming_order_handler</a></li>
<li class="toctree-l4"><a class="reference internal" href="pkg_task5/scripts/qr/qr_decode.html">5.1.1.4. qr/qr_decode</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pkg_task5/msg_files.html">5.1.2. Message Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pkg_task5/msg/Camera1Image.html">5.1.2.1. Camera1Image.msg</a><ul>
<li class="toctree-l5"><a class="reference internal" href="pkg_task5/msg/Camera1Image.html#description">5.1.2.1.1. Description</a></li>
<li class="toctree-l5"><a class="reference internal" href="pkg_task5/msg/Camera1Image.html#parameters">5.1.2.1.2. Parameters</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="pkg_task5/msg/DispatchedPackage.html">5.1.2.2. DispatchedPackage.msg</a><ul>
<li class="toctree-l5"><a class="reference internal" href="pkg_task5/msg/DispatchedPackage.html#description">5.1.2.2.1. Description</a></li>
<li class="toctree-l5"><a class="reference internal" href="pkg_task5/msg/DispatchedPackage.html#parameters">5.1.2.2.2. Parameters</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="pkg_task5/msg/NewOrder.html">5.1.2.3. NewOrder.msg</a><ul>
<li class="toctree-l5"><a class="reference internal" href="pkg_task5/msg/NewOrder.html#description">5.1.2.3.1. Description</a></li>
<li class="toctree-l5"><a class="reference internal" href="pkg_task5/msg/NewOrder.html#parameters">5.1.2.3.2. Parameters</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pkg_task5/launch_files.html">5.1.3. Launch Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pkg_task5/launch/task5_solution.html">5.1.3.1. task5_solution.launch</a><ul>
<li class="toctree-l5"><a class="reference internal" href="pkg_task5/launch/task5_solution.html#description">5.1.3.1.1. Description</a></li>
<li class="toctree-l5"><a class="reference internal" href="pkg_task5/launch/task5_solution.html#job">5.1.3.1.2. Job</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pkg_task5/YAML_files.html">5.1.4. YAML Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pkg_task5/config/saved_trajectories/home1_to_xxx_bin.html">5.1.4.1. home1_to_xxx_bin.yaml</a><ul>
<li class="toctree-l5"><a class="reference internal" href="pkg_task5/config/saved_trajectories/home1_to_xxx_bin.html#description">5.1.4.1.1. Description</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="pkg_task5/config/saved_trajectories/home2_to_xxx_bin.html">5.1.4.2. home2_to_xxx_bin.yaml</a><ul>
<li class="toctree-l5"><a class="reference internal" href="pkg_task5/config/saved_trajectories/home2_to_xxx_bin.html#description">5.1.4.2.1. Description</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="pkg_task5/config/saved_trajectories/home_to_pkgnxx.html">5.1.4.3. home_to_pkgn<em>xx</em>.yaml</a><ul>
<li class="toctree-l5"><a class="reference internal" href="pkg_task5/config/saved_trajectories/home_to_pkgnxx.html#description">5.1.4.3.1. Description</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="pkg_task5/config/saved_trajectories/pkgnxx_to_home.html">5.1.4.4. pkgn<em>xx</em>_to_home.yaml</a><ul>
<li class="toctree-l5"><a class="reference internal" href="pkg_task5/config/saved_trajectories/pkgnxx_to_home.html#description">5.1.4.4.1. Description</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api_documentation.html#package-ros-iot-bridge">5.2. Package Ros-IoT Bridge</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pkg_ros_iot_bridge/python_scripts.html">5.2.1. Python Scripts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pkg_ros_iot_bridge/scripts/node_action_server_ros_iot_bridge.html">5.2.1.1. node_action_server_ros_iot_bridge</a></li>
<li class="toctree-l4"><a class="reference internal" href="pkg_ros_iot_bridge/scripts/pyiot/iot.html">5.2.1.2. pyiot/iot</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pkg_ros_iot_bridge/msg_files.html">5.2.2. Message Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pkg_ros_iot_bridge/msg/msgMqttSub.html">5.2.2.1. msgMqttSub.msg</a><ul>
<li class="toctree-l5"><a class="reference internal" href="pkg_ros_iot_bridge/msg/msgMqttSub.html#description">5.2.2.1.1. Description</a><ul>
<li class="toctree-l6"><a class="reference internal" href="pkg_ros_iot_bridge/msg/msgMqttSub.html#parameters">5.2.2.1.1.1. Parameters</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pkg_ros_iot_bridge/action_files.html">5.2.3. Action Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pkg_ros_iot_bridge/action/msgRosIot.html">5.2.3.1. msgRosIot.action</a><ul>
<li class="toctree-l5"><a class="reference internal" href="pkg_ros_iot_bridge/action/msgRosIot.html#description">5.2.3.1.1. Description</a></li>
<li class="toctree-l5"><a class="reference internal" href="pkg_ros_iot_bridge/action/msgRosIot.html#parameters">5.2.3.1.2. Parameters</a><ul>
<li class="toctree-l6"><a class="reference internal" href="pkg_ros_iot_bridge/action/msgRosIot.html#goal">5.2.3.1.2.1. Goal</a></li>
<li class="toctree-l6"><a class="reference internal" href="pkg_ros_iot_bridge/action/msgRosIot.html#feedback">5.2.3.1.2.2. Feedback</a></li>
<li class="toctree-l6"><a class="reference internal" href="pkg_ros_iot_bridge/action/msgRosIot.html#result">5.2.3.1.2.3. Result</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pkg_ros_iot_bridge/config_files.html">5.2.4. Config Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pkg_ros_iot_bridge/config/config_pyiot.html">5.2.4.1. config_pyiot.yaml</a><ul>
<li class="toctree-l5"><a class="reference internal" href="pkg_ros_iot_bridge/config/config_pyiot.html#description">5.2.4.1.1. Description</a></li>
<li class="toctree-l5"><a class="reference internal" href="pkg_ros_iot_bridge/config/config_pyiot.html#parameters">5.2.4.1.2. Parameters</a><ul>
<li class="toctree-l6"><a class="reference internal" href="pkg_ros_iot_bridge/config/config_pyiot.html#mqtt">5.2.4.1.2.1. MQTT</a></li>
<li class="toctree-l6"><a class="reference internal" href="pkg_ros_iot_bridge/config/config_pyiot.html#google-apps">5.2.4.1.2.2. Google Apps</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">eYRC VB#0574 Task 5</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>3. Introduction</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="introduction">
<h1>3. Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>The arena is an automated warehouse setting where essential packages are required to be sent out to different parts of a city. Since Industry 4.0 heavily focuses on automation, here the warehouse
consist of two industrial robotic arms which will be used to pick and place the packages. As the requirements are sent to the warehouse, one robotic arm will identifies the packages from a shelf and place them on a conveyor belt and the other robotic arm at the end of the conveyor belt pick these objects from the conveyor and place them into bins. Each bin represents a destination for the package. As the packages are sent out from the warehouse, alerts are sent to the user via email notifying them about the package being shipped from the warehouse.</p>
<p>The packages to be delivered have their own priorities. Packages having a higher priority are intended for a natural disaster or a pandemic situation. Other packages with lower priorities are for general purposes. Similar to a conductor in an orchestra, in this theme, we have designed our own conductor (controller) for the warehouse to make smart decisions in order to deliver high priority packages as quickly as possible.</p>
<div class="section" id="overview">
<h2>3.1. Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Two UR5 arms are controlled by two nodes namely, node_ur5_1_pick and node_ur5_2_place. These two nodes decides which package to pick and drop. When the UR5#1 node is initialized, first the colour of packages are detected using QR codes on the package by importing a qr module. This module handles the colour detection job. This data is then published to a ROS topic and pushed to the Inventory spreadsheet.</li>
<li>To recieve orders, a Ros-IoT bridge was setup which is an Action Server to perform all IoT related tasks. The orders are published on a MQTT topic which is subscribed by this server which then publishes that data to ROS topic so that ROS nodes can access it. ROS nodes can send goals to the action server with the help of action files through an action client.</li>
<li>When the orders are recieved, they are pushed to the spreadshett and the orders list is sorted according to the priority of orders. Highest priority package is picked first and then placed on the conveyor belt. Details of this order is shared with the UR5#2 node with help of custom message files. At the same time the data is also updated in Inventory Management sheet and an email notification is sent to the customer that their order has been dispatched.</li>
<li>UR5#2 node then picks these pakage and drops them in their corresponding bins. Similar to UR5#1 node, the shipped order details are pushed to the spreadsheet and an email notification is sent to the customer that their order has been shipped.</li>
<li>A dashboard is also implemented to track and analyze the key performance indicators.</li>
</ul>
<div class="section" id="strategies-used-to-save-time">
<h3>3.1.1. Strategies used to save time<a class="headerlink" href="#strategies-used-to-save-time" title="Permalink to this headline">¶</a></h3>
<p>Since shipping packages as soon as possible was the major aim, a lot of time and effort
were put to find ways to save time.</p>
<ol class="arabic simple">
<li>Most of the time is taken by the trajectories to execute and therefore a system was developed which can save trajecories having the least execution time.</li>
<li>A python script was written which planned 100+ tajectories and saved the one which has the least execution time.</li>
<li>To save more time, the trajectories are loaded and stored at the start when the node initializes because loading trajectories aslo take 40-60 ms to load.</li>
<li>In the final run, planning scenes from RViz were also removed as it was observed that it takes less time to execute trajectories without any planning scene.</li>
</ol>
</div>
</div>
<div class="section" id="video-demonstration">
<h2>3.2. Video Demonstration<a class="headerlink" href="#video-demonstration" title="Permalink to this headline">¶</a></h2>
<iframe width="690" height="388" src="https://www.youtube.com/embed/pLcViO3jvJs" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="implementation.html" class="btn btn-neutral float-right" title="4. Implementation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="installations/pahomqtt.html" class="btn btn-neutral float-left" title="2.4. Paho MQTT Library" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Rahul, Team Leader VB#0574.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>