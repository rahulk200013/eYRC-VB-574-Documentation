

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>5.1.1.4. qr/qr_decode &mdash; eYRC VB#0574 Task 5 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="5.1.2. Message Files" href="../../msg_files.html" />
    <link rel="prev" title="5.1.1.3. incoming_order_handler" href="../incoming_order_handler.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home"> eYRC VB#0574 Task 5
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../software_specs.html">1. Software Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installations.html">2. Insatllations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../installations/rosmelodic.html">2.1. ROS Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../installations/rosmelodic.html#installation-instruction">2.1.1. Installation Instruction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../installations/rosmelodic.html#ros-melodic-installation">2.1.2. ROS Melodic Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../installations/rosmelodic.html#installation-steps">2.1.3. Installation Steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../installations/rosmelodic.html#configuration-steps">2.1.4. Configuration Steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../installations/rosmelodic.html#additional-packages-to-install">2.1.5. Additional packages to install</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../installations/rosmelodic.html#references">2.1.6. References</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../installations/moveit.html">2.2. MoveIt! for ROS Melodic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../installations/vbsimpkg.html">2.3. Vargi Bots Simulation Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../installations/pahomqtt.html">2.4. Paho MQTT Library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../installations/pahomqtt.html#installation-instruction">2.4.1. Installation Instruction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../installations/pahomqtt.html#example-mqtt-pub-sub">2.4.2. Example MQTT Pub-Sub</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../installations/pahomqtt.html#sub-py">2.4.2.1. sub.py</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../installations/pahomqtt.html#pub-py">2.4.2.2. pub.py</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../installations/pahomqtt.html#references">2.4.3. References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">3. Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../introduction.html#overview">3.1. Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../introduction.html#strategies-used-to-save-time">3.1.1. Strategies used to save time</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../introduction.html#video-demonstration">3.2. Video Demonstration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../implementation.html">4. Implementation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../implementation.html#setting-up-gazebo-and-planning-scene">4.1. Setting up Gazebo and Planning Scene</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../implementation.html#saving-trajectories">4.2. Saving Trajectories</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../implementation.html#determining-execution-time">4.2.1. Determining Execution Time</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../implementation.html#automate-trajectory-saving">4.2.2. Automate Trajectory Saving</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../implementation.html#qr-detection">4.3. QR Detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../implementation.html#ros-iot-bridge-setup">4.4. Ros-IoT Bridge Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../implementation.html#order-handling">4.5. Order Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../implementation.html#picking-up-packages-from-shelf">4.6. Picking Up Packages From Shelf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../implementation.html#placing-packages-in-the-bin">4.7. Placing Packages in the Bin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../implementation.html#when-ur5-2-arm-is-free">4.7.1. When UR5#2 arm is free</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../implementation.html#when-ur5-2-arm-is-busy">4.7.2. When UR5#2 arm is busy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../implementation.html#dashboard">4.8. Dashboard</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../implementation.html#map">4.8.1. Map</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../implementation.html#table">4.8.2. Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../implementation.html#bar-graph">4.8.3. Bar Graph</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../implementation.html#rqt-graph">4.9. RQT Graph</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../api_documentation.html">5. API Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../../api_documentation.html#package-task-5">5.1. Package Task 5</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../../python_scripts.html">5.1.1. Python Scripts</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../node_ur5_1_pick.html">5.1.1.1. node_ur5_1_pick</a></li>
<li class="toctree-l4"><a class="reference internal" href="../node_ur5_2_place.html">5.1.1.2. node_ur5_2_place</a></li>
<li class="toctree-l4"><a class="reference internal" href="../incoming_order_handler.html">5.1.1.3. incoming_order_handler</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">5.1.1.4. qr/qr_decode</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../msg_files.html">5.1.2. Message Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../msg/Camera1Image.html">5.1.2.1. Camera1Image.msg</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../msg/Camera1Image.html#description">5.1.2.1.1. Description</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../msg/Camera1Image.html#parameters">5.1.2.1.2. Parameters</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../msg/DispatchedPackage.html">5.1.2.2. DispatchedPackage.msg</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../msg/DispatchedPackage.html#description">5.1.2.2.1. Description</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../msg/DispatchedPackage.html#parameters">5.1.2.2.2. Parameters</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../msg/NewOrder.html">5.1.2.3. NewOrder.msg</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../msg/NewOrder.html#description">5.1.2.3.1. Description</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../msg/NewOrder.html#parameters">5.1.2.3.2. Parameters</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../launch_files.html">5.1.3. Launch Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../launch/task5_solution.html">5.1.3.1. task5_solution.launch</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../launch/task5_solution.html#description">5.1.3.1.1. Description</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../launch/task5_solution.html#job">5.1.3.1.2. Job</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../YAML_files.html">5.1.4. YAML Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../config/saved_trajectories/home1_to_xxx_bin.html">5.1.4.1. home1_to_xxx_bin.yaml</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../config/saved_trajectories/home1_to_xxx_bin.html#description">5.1.4.1.1. Description</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../config/saved_trajectories/home2_to_xxx_bin.html">5.1.4.2. home2_to_xxx_bin.yaml</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../config/saved_trajectories/home2_to_xxx_bin.html#description">5.1.4.2.1. Description</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../config/saved_trajectories/home_to_pkgnxx.html">5.1.4.3. home_to_pkgn<em>xx</em>.yaml</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../config/saved_trajectories/home_to_pkgnxx.html#description">5.1.4.3.1. Description</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../config/saved_trajectories/pkgnxx_to_home.html">5.1.4.4. pkgn<em>xx</em>_to_home.yaml</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../config/saved_trajectories/pkgnxx_to_home.html#description">5.1.4.4.1. Description</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_documentation.html#package-ros-iot-bridge">5.2. Package Ros-IoT Bridge</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../pkg_ros_iot_bridge/python_scripts.html">5.2.1. Python Scripts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../pkg_ros_iot_bridge/scripts/node_action_server_ros_iot_bridge.html">5.2.1.1. node_action_server_ros_iot_bridge</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../pkg_ros_iot_bridge/scripts/pyiot/iot.html">5.2.1.2. pyiot/iot</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../pkg_ros_iot_bridge/msg_files.html">5.2.2. Message Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../pkg_ros_iot_bridge/msg/msgMqttSub.html">5.2.2.1. msgMqttSub.msg</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../pkg_ros_iot_bridge/msg/msgMqttSub.html#description">5.2.2.1.1. Description</a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../../pkg_ros_iot_bridge/msg/msgMqttSub.html#parameters">5.2.2.1.1.1. Parameters</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../pkg_ros_iot_bridge/action_files.html">5.2.3. Action Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../pkg_ros_iot_bridge/action/msgRosIot.html">5.2.3.1. msgRosIot.action</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../pkg_ros_iot_bridge/action/msgRosIot.html#description">5.2.3.1.1. Description</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../pkg_ros_iot_bridge/action/msgRosIot.html#parameters">5.2.3.1.2. Parameters</a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../../pkg_ros_iot_bridge/action/msgRosIot.html#goal">5.2.3.1.2.1. Goal</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../../pkg_ros_iot_bridge/action/msgRosIot.html#feedback">5.2.3.1.2.2. Feedback</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../../pkg_ros_iot_bridge/action/msgRosIot.html#result">5.2.3.1.2.3. Result</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../pkg_ros_iot_bridge/config_files.html">5.2.4. Config Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../pkg_ros_iot_bridge/config/config_pyiot.html">5.2.4.1. config_pyiot.yaml</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../pkg_ros_iot_bridge/config/config_pyiot.html#description">5.2.4.1.1. Description</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../pkg_ros_iot_bridge/config/config_pyiot.html#parameters">5.2.4.1.2. Parameters</a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../../pkg_ros_iot_bridge/config/config_pyiot.html#mqtt">5.2.4.1.2.1. MQTT</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../../pkg_ros_iot_bridge/config/config_pyiot.html#google-apps">5.2.4.1.2.2. Google Apps</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">eYRC VB#0574 Task 5</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../api_documentation.html">5. API Documentation</a> &raquo;</li>
        
          <li><a href="../../python_scripts.html">5.1.1. Python Scripts</a> &raquo;</li>
        
      <li>5.1.1.4. qr/qr_decode</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-qr.qr_decode">
<span id="qr-qr-decode"></span><span id="node-qr-decode"></span><h1>5.1.1.4. qr/qr_decode<a class="headerlink" href="#module-qr.qr_decode" title="Permalink to this headline">¶</a></h1>
<p>This node handles the job to do the image processing of the image captured by 2D Camera
to identify the colour of packages on the shelf.</p>
<p>The image is cropped into 12 images, each image has one of the package in it. Then
QR code in these images are decoded to identify the colour of the packages at each row
and column of the shelf.</p>
<dl class="class">
<dt id="qr.qr_decode.ShelfCamera">
<em class="property">class </em><code class="descclassname">qr.qr_decode.</code><code class="descname">ShelfCamera</code><a class="reference internal" href="../../../../_modules/qr/qr_decode.html#ShelfCamera"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qr.qr_decode.ShelfCamera" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to analyze 2D camera image and store the information regarding
colour of the packages</p>
<dl class="method">
<dt id="qr.qr_decode.ShelfCamera.callback">
<code class="descname">callback</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/qr/qr_decode.html#ShelfCamera.callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qr.qr_decode.ShelfCamera.callback" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a callback function called when the 2D camera publishes its feed on the
ROS Topic “/eyrc/vb/camera_1/image_raw”</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>sensor_msgs::Image</em>) – feed from the 2D camera</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="qr.qr_decode.ShelfCamera.get_pkg_colour_list">
<code class="descname">get_pkg_colour_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/qr/qr_decode.html#ShelfCamera.get_pkg_colour_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qr.qr_decode.ShelfCamera.get_pkg_colour_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of colours of the package.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="qr.qr_decode.decode_qr">
<code class="descclassname">qr.qr_decode.</code><code class="descname">decode_qr</code><span class="sig-paren">(</span><em>arg_image</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/qr/qr_decode.html#decode_qr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qr.qr_decode.decode_qr" title="Permalink to this definition">¶</a></dt>
<dd><p>Decodes the QR code present in the image</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>arg_image</strong> (<em>sensor_msgs::Image</em>) – image in which QR code is present</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">decoded data</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="qr.qr_decode.detect_colours">
<code class="descclassname">qr.qr_decode.</code><code class="descname">detect_colours</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/qr/qr_decode.html#detect_colours"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qr.qr_decode.detect_colours" title="Permalink to this definition">¶</a></dt>
<dd><p>Detects the colours of the packages present on the shelf and publishes them on a ROS Topic.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../../msg_files.html" class="btn btn-neutral float-right" title="5.1.2. Message Files" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../incoming_order_handler.html" class="btn btn-neutral float-left" title="5.1.1.3. incoming_order_handler" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Rahul, Team Leader VB#0574.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>